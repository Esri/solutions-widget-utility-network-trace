import{r as t,c as e,h as r,H as i,g as a}from"./p-551d452f.js";import{g as s}from"./p-ddb29161.js";import{g as o}from"./p-4bacf9d8.js";import{C as n}from"./p-84f46c35.js";import{s as h,a as d,i as c,l,c as p,n as u,e as f,f as g}from"./p-0e811b43.js";const v=class{constructor(r){t(this,r),this.calciteDaySelect=e(this,"calciteDaySelect",7),this.calciteDayHover=e(this,"calciteDayHover",7),this.disabled=!1,this.currentMonth=!1,this.selected=!1,this.highlighted=!1,this.range=!1,this.startOfRange=!1,this.endOfRange=!1,this.rangeHover=!1,this.active=!1,this.onClick=()=>{!this.disabled&&this.calciteDaySelect.emit()},this.keyDownHandler=t=>{const e=o(t.key);" "!==e&&"Enter"!==e||!this.disabled&&this.calciteDaySelect.emit()}}mouseoverHandler(){this.calciteDayHover.emit({disabled:this.disabled})}render(){const t=String(this.day).split("").map((t=>this.localeData.numerals[t])).join(""),e=s(this.el);return r(i,{dir:e,onClick:this.onClick,onKeyDown:this.keyDownHandler,role:"gridcell",tabindex:this.active?0:-1},r("div",{class:"day-v-wrapper"},r("div",{class:"day-wrapper"},r("span",{class:"day"},r("span",{class:"text"},t)))))}get el(){return a(this)}};v.style="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-popper-transition:150ms ease-in-out}:host([hidden]){display:none}:host{display:flex;justify-content:center;outline:none;color:var(--calcite-ui-text-3);cursor:pointer;width:calc(100% / 7);min-width:0}.day-v-wrapper{flex:1 1 auto}.day{display:flex;border-radius:100%;font-size:0.875rem;line-height:1.5;justify-content:center;align-items:center;line-height:1;color:var(--calcite-ui-text-3);transition:all 150ms ease-in-out;background:none;box-shadow:0 0 0 2px transparent, 0 0 0 0px transparent;opacity:var(--calcite-ui-opacity-disabled)}.text{margin:1px 0 0 1px}:host([scale=s]) .day-v-wrapper{padding-top:0.125rem;padding-bottom:0.125rem}:host([scale=s]) .day-wrapper{padding:0}:host([scale=s]) .day{height:27px;width:27px;font-size:var(--calcite-font-size--2)}:host([scale=m]) .day-v-wrapper{padding-top:0.25rem;padding-bottom:0.25rem}:host([scale=m]) .day-wrapper{padding-left:0.25rem;padding-right:0.25rem}:host([scale=m]) .day{height:33px;width:33px;font-size:var(--calcite-font-size--1)}:host([scale=l]) .day-v-wrapper{padding-top:0.25rem;padding-bottom:0.25rem}:host([scale=l]) .day-wrapper{padding-left:0.25rem;padding-right:0.25rem}:host([scale=l]) .day{height:43px;width:43px;font-size:var(--calcite-font-size-0)}:host([current-month]) .day{opacity:1}:host([disabled]){cursor:default;opacity:0.2}:host(:hover:not([disabled])) .day,:host([active]:not([range])) .day{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1)}:host(:focus),:host([active]){z-index:1}:host(:focus:not([disabled])) .day{box-shadow:0 0 0 2px var(--calcite-ui-foreground-1), 0 0 0 4px var(--calcite-ui-brand)}:host([selected]) .day{background-color:var(--calcite-ui-brand) !important;color:var(--calcite-ui-foreground-1) !important;font-weight:500;z-index:1}:host([range][selected]) .day-wrapper{background-color:var(--calcite-ui-foreground-current)}:host([start-of-range][dir=ltr]) .day-wrapper,:host([end-of-range][dir=rtl]) .day-wrapper{border-top-left-radius:40%;border-bottom-left-radius:40%;box-shadow:inset 4px 0 var(--calcite-ui-foreground-1)}:host([start-of-range][dir=ltr]:not(:focus)) .day,:host([end-of-range][dir=rtl]:not(:focus)) .day{box-shadow:2px 0 var(--calcite-ui-foreground-1)}:host([end-of-range][dir=ltr]) .day-wrapper,:host([start-of-range][dir=rtl]) .day-wrapper{border-top-right-radius:40%;border-bottom-right-radius:40%;box-shadow:inset -4px 0 var(--calcite-ui-foreground-1)}:host([end-of-range][dir=ltr]:not(:focus)) .day,:host([start-of-range][dir=rtl]:not(:focus)) .day{box-shadow:-2px 0 var(--calcite-ui-foreground-1)}:host([end-of-range][scale=l][dir=ltr]) .day-wrapper,:host([start-of-range][scale=l][dir=rtl]) .day-wrapper{box-shadow:inset -8px 0 var(--calcite-ui-foreground-1)}:host([highlighted]) .day-wrapper{background-color:var(--calcite-ui-foreground-current)}:host([highlighted]) .day-wrapper .day{color:var(--calcite-ui-text-1)}:host([highlighted]:not([active]:focus)) .day{border-radius:0;color:var(--calcite-ui-text-1)}:host([range-hover]:not([selected])) .day-wrapper{background-color:var(--calcite-ui-foreground-2)}:host([range-hover]:not([selected])) .day{border-radius:0}:host([end-of-range][range-hover][dir=ltr]) .day-wrapper,:host([start-of-range][range-hover][dir=rtl]) .day-wrapper{background-image:linear-gradient(to right, var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-2), var(--calcite-ui-foreground-2));border-radius:0;box-shadow:none}:host([start-of-range][range-hover][dir=ltr]) .day-wrapper,:host([end-of-range][range-hover][dir=rtl]) .day-wrapper{background-image:linear-gradient(to left, var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-2), var(--calcite-ui-foreground-2));border-radius:0;box-shadow:none}:host(:hover[range-hover]:not([selected]).focused--end[dir=ltr]) .day-wrapper,:host(:hover[range-hover]:not([selected]).focused--start[dir=rtl]) .day-wrapper{border-top-right-radius:40%;border-bottom-right-radius:40%;box-shadow:inset -4px 0 var(--calcite-ui-foreground-1)}:host(:hover[range-hover]:not([selected]).focused--end[dir=ltr]) .day,:host(:hover[range-hover]:not([selected]).focused--start[dir=rtl]) .day{border-radius:100%;box-shadow:-2px 0 var(--calcite-ui-foreground-1)}:host(:hover[range-hover]:not([selected]).focused--start[dir=ltr]) .day-wrapper,:host(:hover[range-hover]:not([selected]).focused--end[dir=rtl]) .day-wrapper{border-top-left-radius:40%;border-bottom-left-radius:40%;box-shadow:inset 4px 0 var(--calcite-ui-foreground-1)}:host(:hover[range-hover]:not([selected]).focused--start[dir=ltr]) .day,:host(:hover[range-hover]:not([selected]).focused--end[dir=rtl]) .day{border-radius:100%;box-shadow:2px 0 var(--calcite-ui-foreground-1)}:host([end-of-range].hover--inside-range.focused--end) .day-wrapper,:host([start-of-range].hover--inside-range.focused--start) .day-wrapper,:host(:hover[start-of-range].hover--inside-range.focused--end) .day-wrapper,:host(:hover[end-of-range].hover--inside-range.focused--start) .day-wrapper{background:none}:host([start-of-range].hover--inside-range.focused--end) .day-wrapper,:host([end-of-range].hover--inside-range.focused--start) .day-wrapper{background-color:var(--calcite-ui-foreground-2)}:host([dir=ltr][highlighted]:first-child) .day-wrapper,:host([dir=rtl][highlighted]:last-child) .day-wrapper,:host([range-hover][dir=ltr]:not([selected]):first-child) .day-wrapper,:host([range-hover][dir=rtl]:not([selected]):last-child) .day-wrapper{border-top-left-radius:45%;border-bottom-left-radius:45%}:host([dir=ltr][highlighted]:last-child) .day-wrapper,:host([dir=rtl][highlighted]:first-child) .day-wrapper,:host([range-hover][dir=ltr]:not([selected]):last-child) .day-wrapper,:host([range-hover][dir=rtl]:not([selected]):first-child) .day-wrapper{border-top-right-radius:45%;border-bottom-right-radius:45%}";const y=class{constructor(r){t(this,r),this.calciteDatePickerSelect=e(this,"calciteDatePickerSelect",7),this.calciteDatePickerHover=e(this,"calciteDatePickerHover",7),this.calciteDatePickerActiveDateChange=e(this,"calciteDatePickerActiveDateChange",7),this.calciteDatePickerMouseOut=e(this,"calciteDatePickerMouseOut",7),this.activeDate=new Date,this.keyDownHandler=t=>{const e="rtl"===this.el.dir;switch(o(t.key)){case"ArrowUp":t.preventDefault(),this.addDays(-7);break;case"ArrowRight":t.preventDefault(),this.addDays(e?-1:1);break;case"ArrowDown":t.preventDefault(),this.addDays(7);break;case"ArrowLeft":t.preventDefault(),this.addDays(e?1:-1);break;case"PageUp":t.preventDefault(),this.addMonths(-1);break;case"PageDown":t.preventDefault(),this.addMonths(1);break;case"Home":t.preventDefault(),this.activeDate.setDate(1),this.addDays();break;case"End":t.preventDefault(),this.activeDate.setDate(new Date(this.activeDate.getFullYear(),this.activeDate.getMonth()+1,0).getDate()),this.addDays();break;case"Enter":case" ":t.preventDefault();break;case"Tab":this.activeFocus=!1}},this.disableActiveFocus=()=>{this.activeFocus=!1},this.dayHover=t=>{const e=t.target;t.detail.disabled?this.calciteDatePickerMouseOut.emit():this.calciteDatePickerHover.emit(e.value)},this.daySelect=t=>{this.calciteDatePickerSelect.emit(t.target.value)}}mouseoutHandler(){this.calciteDatePickerMouseOut.emit()}render(){const t=this.activeDate.getMonth(),e=this.activeDate.getFullYear(),a=this.localeData.weekStart%7,{abbreviated:o,short:n,narrow:d}=this.localeData.days,c="s"===this.scale?d||n||o:n||o||d,l=[...c.slice(a,7),...c.slice(0,a)],p=this.getCurrentMonthDays(t,e),u=this.getPrevMonthdays(t,e,a),f=this.getNextMonthDays(t,e,a),g=s(this.el),v=[...u.map((r=>{const i=new Date(e,t-1,r);return this.renderDateDay(!1,r,g,i)})),...p.map((r=>{const i=new Date(e,t,r),a=h(i,this.activeDate);return this.renderDateDay(a,r,g,i,!0,!0)})),...f.map((r=>{const i=new Date(e,t+1,r);return this.renderDateDay(!1,r,g,i)}))],y=[];for(let t=0;t<v.length;t+=7)y.push(v.slice(t,t+7));return r(i,{onFocusOut:this.disableActiveFocus,onKeyDown:this.keyDownHandler},r("div",{class:"calender",role:"grid"},r("div",{class:"week-headers",role:"row"},l.map((t=>r("span",{class:"week-header",role:"columnheader"},t)))),y.map((t=>r("div",{class:"week-days",role:"row"},t)))))}addMonths(t){const e=new Date(this.activeDate);e.setMonth(this.activeDate.getMonth()+t),this.calciteDatePickerActiveDateChange.emit(d(e,this.min,this.max)),this.activeFocus=!0}addDays(t=0){const e=new Date(this.activeDate);e.setDate(this.activeDate.getDate()+t),this.calciteDatePickerActiveDateChange.emit(d(e,this.min,this.max)),this.activeFocus=!0}getPrevMonthdays(t,e,r){const i=new Date(e,t,0),a=i.getDate(),s=[];if(i.getDay()-6===r)return s;for(let t=i.getDay();t>=r;t--)s.push(a-t);return s}getCurrentMonthDays(t,e){const r=new Date(e,t+1,0).getDate(),i=[];for(let t=0;t<r;t++)i.push(t+1);return i}getNextMonthDays(t,e,r){const i=new Date(e,t+1,0).getDay(),a=[];if(i===(r+6)%7)return a;for(let t=0;t<(6-(i-r))%7;t++)a.push(t+1);return a}betweenSelectedRange(t){return this.startDate&&this.endDate&&t>this.startDate&&t<this.endDate&&!this.isRangeHover(t)&&!this.isHoverInRange()}isSelected(t){return h(t,this.selectedDate)||this.startDate&&h(t,this.startDate)||this.endDate&&h(t,this.endDate)}isStartOfRange(t){return!!this.startDate&&!h(this.startDate,this.endDate)&&h(this.startDate,t)&&!this.isEndOfRange(t)}isEndOfRange(t){return!!this.endDate&&!h(this.startDate,this.endDate)&&h(this.endDate,t)||!this.endDate&&this.hoverRange&&h(this.startDate,this.hoverRange.end)&&h(t,this.hoverRange.end)}renderDateDay(t,e,i,a,s,o){var n;const d=this.isFocusedOnStart(),l=this.isHoverInRange()||!this.endDate&&this.hoverRange&&h(null===(n=this.hoverRange)||void 0===n?void 0:n.end,this.startDate);return r("calcite-date-picker-day",{active:t,class:{"hover--inside-range":this.startDate&&l,"hover--outside-range":this.startDate&&!l,"focused--start":d,"focused--end":!d},currentMonth:s,day:e,dir:i,disabled:!c(a,this.min,this.max),endOfRange:this.isEndOfRange(a),highlighted:this.betweenSelectedRange(a),key:a.toDateString(),localeData:this.localeData,onCalciteDayHover:this.dayHover,onCalciteDaySelect:this.daySelect,range:!!this.startDate&&!!this.endDate&&!h(this.startDate,this.endDate),rangeHover:this.isRangeHover(a),ref:e=>{o&&t&&this.activeFocus&&(null==e||e.focus())},scale:this.scale,selected:this.isSelected(a),startOfRange:this.isStartOfRange(a),value:a})}isFocusedOnStart(){var t;return"start"===(null===(t=this.hoverRange)||void 0===t?void 0:t.focused)}isHoverInRange(){if(!this.hoverRange)return;const{start:t,end:e}=this.hoverRange;return!this.isFocusedOnStart()&&!!this.startDate&&(!this.endDate||e<this.endDate)||this.isFocusedOnStart()&&!!this.startDate&&t>this.startDate}isRangeHover(t){if(!this.hoverRange)return!1;const{start:e,end:r}=this.hoverRange,i=this.isFocusedOnStart(),a=this.isHoverInRange(),s=a&&(!i&&t>this.startDate&&(t<r||h(t,r))||i&&t<this.endDate&&(t>e||h(t,e))),o=!a&&(!i&&t>=this.endDate&&(t<r||h(t,r))||i&&(t<this.startDate||this.endDate&&h(t,this.startDate))&&(t>e||h(t,e)));return s||o}get el(){return a(this)}};y.style="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-popper-transition:150ms ease-in-out}:host([hidden]){display:none}.calender{padding-bottom:4px}.week-headers{display:flex;flex-direction:row;border-top:1px solid var(--calcite-ui-border-3);padding:0 4px}.week-header{color:var(--calcite-ui-text-3);font-weight:600;width:calc(100% / 7);text-align:center}:host([scale=s]) .week-header{font-size:12px;padding:16px 0 16px 0}:host([scale=m]) .week-header{font-size:12px;padding:24px 0 20px 0}:host([scale=l]) .week-header{font-size:14px;padding:32px 0 24px 0}.week-days{outline:none;display:flex;flex-direction:row;padding:0 6px}";const x=class{constructor(r){t(this,r),this.calciteDatePickerSelect=e(this,"calciteDatePickerSelect",7),this.onYearKey=t=>{const e=t.target.value;switch(o(t.key)){case"ArrowDown":t.preventDefault(),this.setYear(e,-1);break;case"ArrowUp":t.preventDefault(),this.setYear(e,1)}},this.yearChanged=t=>{this.setYear(t.target.value)},this.prevMonthClick=t=>{this.handleArrowClick(t,this.prevMonthDate)},this.prevMonthKeydown=t=>{const e=o(t.key);" "!==e&&"Enter"!==e||this.prevMonthClick(t)},this.nextMonthClick=t=>{this.handleArrowClick(t,this.nextMonthDate)},this.nextMonthKeydown=t=>{const e=o(t.key);" "!==e&&"Enter"!==e||this.nextMonthClick(t)},this.handleArrowClick=(t,e)=>{null==t||t.preventDefault(),t.stopPropagation(),this.calciteDatePickerSelect.emit(e)}}connectedCallback(){this.setNextPrevMonthDates()}render(){var t;const e=this.activeDate.getMonth(),{months:a,unitOrder:o}=this.localeData,h=(a.wide||a.narrow||a.abbreviated)[e],d=l(this.activeDate.getFullYear(),this.localeData),c="l"===this.scale?"m":"s",u=s(this.el),f=p(o),g=f.indexOf("y")<f.indexOf("m"),v=null===(t=this.localeData.year)||void 0===t?void 0:t.suffix;return r(i,{dir:u},r("div",{class:"header"},r("a",{"aria-disabled":(this.prevMonthDate.getMonth()===e).toString(),"aria-label":this.intlPrevMonth,class:"chevron",href:"#",onClick:this.prevMonthClick,onKeyDown:this.prevMonthKeydown,role:"button",tabindex:this.prevMonthDate.getMonth()===e?-1:0},r("calcite-icon",{dir:u,"flip-rtl":!0,icon:"chevron-left",scale:c})),r("div",{class:{text:!0,"text--reverse":g}},r(n,{class:"month",level:this.headingLevel},h),r("span",{class:"year-wrap"},r("input",{class:{year:!0,"year--suffix":!!v},inputmode:"numeric",maxlength:"4",minlength:"1",onChange:this.yearChanged,onKeyDown:this.onYearKey,pattern:"\\d*",ref:t=>this.yearInput=t,type:"text",value:d}),v&&r("span",{class:"suffix"},r("span",{"aria-hidden":"true",class:"suffix__invisible"},d)," "+v))),r("a",{"aria-disabled":(this.nextMonthDate.getMonth()===e).toString(),"aria-label":this.intlNextMonth,class:"chevron",href:"#",onClick:this.nextMonthClick,onKeyDown:this.nextMonthKeydown,role:"button",tabindex:this.nextMonthDate.getMonth()===e?-1:0},r("calcite-icon",{dir:u,"flip-rtl":!0,icon:"chevron-right",scale:c}))))}setNextPrevMonthDates(){this.nextMonthDate=d(u(this.activeDate),this.min,this.max),this.prevMonthDate=d(f(this.activeDate),this.min,this.max)}setYear(t,e=0){const{min:r,max:i,activeDate:a,localeData:s,yearInput:o}=this,n=g(t,s),h=n.toString().length,c=!isNaN(n)&&n+e,p=c&&(!r||r.getFullYear()<=c)&&(!i||i.getFullYear()>=c);if(c&&p&&h===t.length){const t=new Date(a);t.setFullYear(c);const e=d(t,r,i);this.calciteDatePickerSelect.emit(e),o.value=l(e.getFullYear(),s)}else o.value=l(a.getFullYear(),s)}get el(){return a(this)}static get watchers(){return{min:["setNextPrevMonthDates"],max:["setNextPrevMonthDates"],activeDate:["setNextPrevMonthDates"]}}};x.style="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-popper-transition:150ms ease-in-out}:host([hidden]){display:none}.header{display:flex;justify-content:space-between;padding:0 3px}:host([scale=s]) .text{font-size:14px}:host([scale=s]) .chevron{height:38px}:host([scale=m]) .text{font-size:16px}:host([scale=m]) .chevron{height:48px}:host([scale=l]) .text{font-size:18px}:host([scale=l]) .chevron{height:64px}.chevron{color:var(--calcite-ui-text-2);flex-grow:0;width:calc(100% / 7);box-sizing:content-box;outline:none;padding:0 4px;margin:0 -3px;border:none;display:flex;align-items:center;justify-content:center;background-color:var(--calcite-ui-foreground-1);cursor:pointer;transition:all 0.15s ease-in-out;outline-offset:0;outline-color:transparent;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}.chevron:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.chevron:hover,.chevron:focus{fill:var(--calcite-ui-text-1);background-color:var(--calcite-ui-foreground-2)}.chevron:active{background-color:var(--calcite-ui-foreground-3)}.chevron[aria-disabled=true]{pointer-events:none;opacity:0}.text{flex:1 1 auto;display:flex;align-items:center;justify-content:center;flex-direction:row;line-height:1;margin:auto 0;text-align:center}.text--reverse{flex-direction:row-reverse}.month,.year,.suffix{color:var(--calcite-ui-text-1);background:var(--calcite-ui-foreground-1);font-size:inherit;font-weight:500;line-height:1.25;margin:0 4px;display:inline-block}.year{font-family:inherit;text-align:center;border:none;width:3em;padding:0;background-color:transparent;position:relative;z-index:2;outline-offset:0;outline-color:transparent;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}.year:hover{transition:outline-color 100ms ease-in-out;outline:2px solid var(--calcite-ui-border-2);outline-offset:2px}.year:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}.year--suffix{width:4rem;text-align:left}.year-wrap{position:relative}.suffix{position:absolute;width:4rem;white-space:nowrap;text-align:left;top:0;left:0}.suffix__invisible{visibility:hidden}";export{v as calcite_date_picker_day,y as calcite_date_picker_month,x as calcite_date_picker_month_header}