import{r as e,c as t,h as i,H as o,g as a}from"./p-551d452f.js";import"./p-f450c62e.js";import{g as s}from"./p-769235dc.js";import{d as r,u as n,c as l,C as c}from"./p-6f1a3455.js";import{T as p,P as d,A as h,C as f}from"./p-c1080241.js";const m=class{constructor(i){e(this,i),this.calcitePopoverClose=t(this,"calcitePopoverClose",7),this.calcitePopoverOpen=t(this,"calcitePopoverOpen",7),this.closeButton=!1,this.disableFlip=!1,this.disablePointer=!1,this.offsetDistance=r,this.offsetSkidding=0,this.open=!1,this.placement="auto",this.intlClose=p.close,this._referenceElement=this.getReferenceElement(),this.guid="calcite-popover-"+s(),this.getId=()=>this.el.id||this.guid,this.addReferences=()=>{const{_referenceElement:e}=this;e&&(e.setAttribute(d,""),e.hasAttribute(h)||e.setAttribute(h,this.getId()))},this.removeReferences=()=>{const{_referenceElement:e}=this;e&&(e.removeAttribute(h),e.removeAttribute(d))},this.hide=()=>{this.open=!1}}offsetDistanceOffsetHandler(){this.reposition()}offsetSkiddingHandler(){this.reposition()}openHandler(e){this.reposition(),e?this.calcitePopoverOpen.emit():this.calcitePopoverClose.emit()}placementHandler(){this.reposition()}referenceElementHandler(){this.removeReferences(),this._referenceElement=this.getReferenceElement(),this.addReferences(),this.createPopper()}componentDidLoad(){this.createPopper(),this.addReferences()}disconnectedCallback(){this.removeReferences(),this.destroyPopper()}async reposition(){const{popper:e,el:t,placement:i}=this,o=this.getModifiers();e?n({el:t,modifiers:o,placement:i,popper:e}):this.createPopper()}async setFocus(e){var t,i;"close-button"!==e?null===(i=this.el)||void 0===i||i.focus():null===(t=this.closeButtonEl)||void 0===t||t.focus()}async toggle(e=!this.open){this.open=e}getReferenceElement(){const{referenceElement:e}=this;return("string"==typeof e?document.getElementById(e):e)||null}getModifiers(){const{arrowEl:e,flipPlacements:t,disableFlip:i,disablePointer:o,offsetDistance:a,offsetSkidding:s}=this,r={name:"flip",enabled:!i};t&&(r.options={fallbackPlacements:t});const n={name:"arrow",enabled:!o};return e&&(n.options={element:e}),[n,r,{name:"offset",enabled:!0,options:{offset:[s,a]}}]}createPopper(){this.destroyPopper();const{el:e,placement:t,_referenceElement:i}=this,o=this.getModifiers();this.popper=l({el:e,modifiers:o,placement:t,referenceEl:i})}destroyPopper(){const{popper:e}=this;e&&e.destroy(),this.popper=null}renderImage(){return this.el.querySelector("[slot=image]")?i("div",{class:f.imageContainer},i("slot",{name:"image"})):null}renderCloseButton(){const{closeButton:e,intlClose:t}=this;return e?i("button",{"aria-label":t,class:{[f.closeButton]:!0},onClick:this.hide,ref:e=>this.closeButtonEl=e,title:t},i("calcite-icon",{icon:"x",scale:"m"})):null}render(){const{_referenceElement:e,open:t,disablePointer:a}=this,s=e&&t,r=a?null:i("div",{class:f.arrow,ref:e=>this.arrowEl=e});return i(o,{"aria-hidden":s?"false":"true",id:this.getId(),role:"dialog"},i("div",{class:{[c.animation]:!0,[c.animationActive]:s}},r,i("div",{class:f.container},this.renderImage(),i("div",{class:f.content},i("slot",null),this.renderCloseButton()))))}get el(){return a(this)}static get watchers(){return{offsetDistance:["offsetDistanceOffsetHandler"],offsetSkidding:["offsetSkiddingHandler"],open:["openHandler"],placement:["placementHandler"],referenceElement:["referenceElementHandler"]}}};m.style='@keyframes calcite-fade-in{0%{opacity:0}100%{opacity:1}}@keyframes calcite-fade-in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes calcite-fade-in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes calcite-fade-in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-popper-transition:150ms ease-in-out}:host([hidden]){display:none}:host{display:block;position:absolute;z-index:999;top:-999999px;left:-999999px}.calcite-popper-anim{position:relative;z-index:1;transition:var(--calcite-popper-transition);visibility:hidden;transition-property:transform, visibility, opacity;opacity:0;box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);border-radius:var(--calcite-border-radius)}:host([data-popper-placement^=bottom]) .calcite-popper-anim{transform:translateY(-5px)}:host([data-popper-placement^=top]) .calcite-popper-anim{transform:translateY(5px)}:host([data-popper-placement^=left]) .calcite-popper-anim{transform:translateX(5px)}:host([data-popper-placement^=right]) .calcite-popper-anim{transform:translateX(-5px)}:host([data-popper-placement]) .calcite-popper-anim--active{opacity:1;visibility:visible;transform:translate(0)}.arrow,.arrow::before{position:absolute;width:8px;height:8px;z-index:-1}.arrow::before{content:"";box-shadow:var(--calcite-shadow-1);transform:rotate(45deg);background:var(--calcite-ui-foreground-1)}:host([data-popper-placement^=top]) .arrow{bottom:-4px}:host([data-popper-placement^=bottom]) .arrow{top:-4px}:host([data-popper-placement^=left]) .arrow{right:-4px}:host([data-popper-placement^=right]) .arrow{left:-4px}.container{background:var(--calcite-ui-foreground-1);position:relative;display:flex;overflow:hidden;flex-direction:column nowrap;color:var(--calcite-ui-text-1)}.content{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;line-height:24px}.close-button{outline-offset:0;outline-color:transparent;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}.close-button:focus{outline:2px solid var(--calcite-ui-blue-1);outline-offset:-2px}.close-button{display:block;flex:0 0 auto;padding:12px;border:none;border-radius:0 var(--calcite-border-radius) 0 0;color:var(--calcite-ui-text-1);cursor:pointer;background:var(--calcite-ui-foreground-1);z-index:1}.close-button:hover{background:var(--calcite-ui-foreground-2)}.close-button:active{background:var(--calcite-ui-foreground-3)}:host-context([dir=rtl]) .close-button{border-radius:var(--calcite-border-radius) 0 0 0}.image-container{overflow:hidden;max-height:200px;margin:5px}slot[name=image]::slotted(img){height:auto;width:100%;max-height:200px;object-position:50% 50%;object-fit:cover}::slotted(calcite-panel),::slotted(calcite-flow){height:100%}';export{m as calcite_popover}