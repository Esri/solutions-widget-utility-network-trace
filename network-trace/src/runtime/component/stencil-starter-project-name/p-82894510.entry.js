import{r as t,c as i,h as e,H as s,g as a}from"./p-551d452f.js";import{n as c}from"./p-f450c62e.js";import{T as r}from"./p-a6de68c6.js";const o=class{constructor(e){t(this,e),this.calciteTreeSelect=i(this,"calciteTreeSelect",7),this.lines=!1,this.scale="m",this.selectionMode=r.Single,this.root=!0}componentWillRender(){const t=this.el.parentElement.closest("calcite-tree");this.lines=t?t.lines:this.lines,this.scale=t?t.scale:this.scale,this.selectionMode=t?t.selectionMode:this.selectionMode,this.root=!t}render(){return e(s,{"aria-multiselectable":this.selectionMode===r.Multi||this.selectionMode===r.MultiChildren,role:this.root?"tree":void 0,tabindex:this.root?"0":void 0},e("slot",null))}onFocus(){if(this.root){const t=this.el.querySelector("calcite-tree-item[selected]"),i=this.el.querySelector("calcite-tree-item");(t||i).focus()}}onClick(t){const i=t.target,e=c(i.querySelectorAll("calcite-tree-item")),s=t.detail.modifyCurrentSelection&&(this.selectionMode===r.Multi||this.selectionMode===r.MultiChildren),a=this.selectionMode===r.MultiChildren||this.selectionMode===r.Children,o=!s&&((this.selectionMode===r.Single||this.selectionMode===r.Multi)&&e.length<=0||this.selectionMode===r.Children||this.selectionMode===r.MultiChildren),h=this.selectionMode===r.Children||this.selectionMode===r.MultiChildren;if(this.root){const n=[];null!==this.selectionMode&&(!i.hasChildren||i.hasChildren&&(this.selectionMode===r.Children||this.selectionMode===r.MultiChildren))&&n.push(i),a&&e.forEach((t=>{n.push(t)})),o&&c(this.el.querySelectorAll("calcite-tree-item[selected]")).forEach((t=>{n.includes(t)||(t.selected=!1)})),h&&!t.detail.forceToggle&&(i.expanded=!0),s&&window.getSelection().removeAllRanges(),n.forEach(s&&i.selected||a&&t.detail.forceToggle?t=>{t.selected=!1}:t=>{t.selected=!0})}this.root&&(t.preventDefault(),t.stopPropagation()),this.calciteTreeSelect.emit({selected:c(this.el.querySelectorAll("calcite-tree-item")).filter((t=>t.selected))})}get el(){return a(this)}};o.style="@keyframes calcite-fade-in{0%{opacity:0}100%{opacity:1}}@keyframes calcite-fade-in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes calcite-fade-in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes calcite-fade-in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-popper-transition:150ms ease-in-out}:host([hidden]){display:none}:host{display:block;outline:none}";export{o as calcite_tree}