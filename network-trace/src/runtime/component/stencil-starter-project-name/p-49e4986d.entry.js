import{r as t,c as s,h as i,g as e}from"./p-551d452f.js";import{g as a,f as n}from"./p-f450c62e.js";import{n as r,i as o,a as c,r as l,h as p,b as h}from"./p-e69246e8.js";import m from"color";import{T as d}from"./p-dfefde60.js";const u=m(),f=class{constructor(i){t(this,i),this.calciteColorHexInputChange=s(this,"calciteColorHexInputChange",7),this.intlHex=d.hex,this.scale="m",this.theme="light",this.value=r(u.hex()),this.onCalciteInputBlur=t=>{const s=t.currentTarget,i="#"+s.value;o(i)&&c(i)||(s.value=this.formatForInternalInput(l(this.internalColor.object())))},this.onInputChange=t=>{const s=t.currentTarget.value;p("#"+s)&&(this.value=r(s),this.calciteColorHexInputChange.emit())},this.onInputKeyDown=t=>{const{inputNode:s}=this,{key:i,altKey:e,ctrlKey:a,metaKey:n}=t,r=e||a||n,o=s.value.length>=6,c="Range"===getSelection().type;1!==i.length||r||c||h.test(i)&&!o||t.preventDefault()},this.internalColor=u}componentWillLoad(){const t=r(this.value);o(t)&&(this.internalColor=m(t),this.value=t)}handleValueChange(t,s){const i=r(t);if(o(i)){const t=i!==r(this.internalColor.hex());return this.internalColor=m(i),this.value=i,void(t&&this.calciteColorHexInputChange.emit())}this.value=s}render(){const{el:t,intlHex:s,value:e}=this,n=this.formatForInternalInput(e),r=a(t);return i("div",{class:"container"},i("calcite-input",{"aria-label":s,class:"input",dir:r,onCalciteInputBlur:this.onCalciteInputBlur,onChange:this.onInputChange,onKeyDown:this.onInputKeyDown,prefixText:"#",ref:t=>this.inputNode=t,scale:"s",value:n}),i("calcite-color-swatch",{active:!0,class:"preview",color:"#"+n,scale:"s"}))}async setFocus(){n(this.inputNode)}formatForInternalInput(t){return t.replace("#","")}get el(){return e(this)}static get watchers(){return{value:["handleValueChange"]}}};f.style="@keyframes calcite-fade-in{0%{opacity:0}100%{opacity:1}}@keyframes calcite-fade-in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes calcite-fade-in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes calcite-fade-in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-popper-transition:150ms ease-in-out}:host([hidden]){display:none}:host{display:block}.container{width:100%;display:-ms-inline-grid;display:inline-grid;-ms-grid-columns:1fr auto;grid-template-columns:1fr auto;align-items:center}.preview{-ms-grid-column:2;-ms-grid-column-span:1;grid-column:2/3;display:flex;align-items:center;pointer-events:none;margin:0 6px;z-index:1}.preview,.input{-ms-grid-row:1;grid-row:1}.input{-ms-grid-column:1;-ms-grid-column-span:2;grid-column:1/3;text-transform:uppercase;width:100%}";export{f as calcite_color_hex_input}