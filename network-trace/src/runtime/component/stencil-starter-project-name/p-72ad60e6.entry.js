import{r as t,h as a,g as n}from"./p-551d452f.js";import{g as i}from"./p-769235dc.js";function s(t){return t<0?-1:1}function r(t,a,n){const i=a[0]-t[0];return i?(3*(a[1]-t[1])/i-n)/2:n}function e(t,a,n,i,s){const[r,e]=t,[h,o]=a,c=(h-r)/3;return`C ${s([r+c,e+c*n]).join(",")} ${s([h-c,o-c*i]).join(",")} ${s([h,o]).join(",")}`}const h=class{constructor(a){t(this,a),this.data=[],this.width=300,this.height=100,this.maskId="calcite-graph-mask-"+i()}render(){const{data:t,width:n,height:i,highlightMax:h,highlightMin:o}=this,c=this.maskId;if(!t||0===t.length)return a("svg",{class:"svg",height:i,preserveAspectRatio:"none",viewBox:`0 0 ${n} ${i}`,width:n});const{min:p,max:$}=function(t){const[a,n]=t[0];return t.reduce((({min:t,max:a},[n,i])=>({min:[Math.min(t[0],n),Math.min(t[1],i)],max:[Math.max(a[0],n),Math.max(a[1],i)]})),{min:[a,n],max:[a,n]})}(t),m=function({width:t,height:a,min:n,max:i}){const s=i[0]-n[0],r=i[1]-n[1];return n=>[n[0]/s*t,a-n[1]/r*a]}({min:p,max:$,width:n,height:i}),[l]=m([o,$[1]]),[d]=m([h,$[1]]),g=function({data:t,min:a,max:n,t:i}){if(0===t.length)return"";const[h,o]=i(t[0]),[c,p]=i(a),[$]=i(n);let m,l,d;const g=t.reduce(((a,n,h)=>{if(l=t[h-2],d=t[h-1],h>1){const t=function(t,a,n){const i=a[0]-t[0],r=n[0]-a[0],e=(a[1]-t[1])/(i||r<0&&0),h=(n[1]-a[1])/(r||i<0&&0),o=(e*r+h*i)/(i+r);return(s(e)+s(h))*Math.min(Math.abs(e),Math.abs(h),.5*Math.abs(o))||0}(l,d,n),h=void 0===m?r(l,d,t):m,o=e(l,d,h,t,i);return m=t,`${a} ${o}`}return a}),`M ${c},${p} L ${c},${o} L ${h},${o}`),f=t[t.length-1];return`${g} ${e(d,f,m,r(d,f,m),i)} L ${$},${p} Z`}({data:t,min:p,max:$,t:m});return a("svg",{class:"svg",height:i,preserveAspectRatio:"none",viewBox:`0 0 ${n} ${i}`,width:n},void 0!==o?a("svg",{class:"svg",height:i,preserveAspectRatio:"none",viewBox:`0 0 ${n} ${i}`,width:n},a("mask",{height:"100%",id:c+"1",width:"100%",x:"0%",y:"0%"},a("path",{d:`\n              M 0,0\n              L ${l-1},0\n              L ${l-1},${i}\n              L 0,${i}\n              Z\n            `,fill:"white"})),a("mask",{height:"100%",id:c+"2",width:"100%",x:"0%",y:"0%"},a("path",{d:`\n              M ${l+1},0\n              L ${d-1},0\n              L ${d-1},${i}\n              L ${l+1}, ${i}\n              Z\n            `,fill:"white"})),a("mask",{height:"100%",id:c+"3",width:"100%",x:"0%",y:"0%"},a("path",{d:`\n                  M ${d+1},0\n                  L ${n},0\n                  L ${n},${i}\n                  L ${d+1}, ${i}\n                  Z\n                `,fill:"white"})),a("path",{class:"graph-path",d:g,mask:`url(#${c}1)`}),a("path",{class:"graph-path--highlight",d:g,mask:`url(#${c}2)`}),a("path",{class:"graph-path",d:g,mask:`url(#${c}3)`})):a("path",{class:"graph-path",d:g}))}get el(){return n(this)}};h.style="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-popper-transition:150ms ease-in-out}:host([hidden]){display:none}.svg{fill:currentColor;stroke:transparent;margin:0;padding:0;display:block}";export{h as calcite_graph}