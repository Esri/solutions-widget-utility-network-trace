import{r as e,c as t,h as i,H as a,g as s}from"./p-551d452f.js";import{g as r}from"./p-f450c62e.js";import{g as c}from"./p-46d99191.js";import{i as o,s as n,b as l,l as h,g as d,n as u,c as f,e as p}from"./p-78f165ad.js";const x=class{constructor(i){e(this,i),this.calciteDateSelect=t(this,"calciteDateSelect",7),this.calciteActiveDateChange=t(this,"calciteActiveDateChange",7),this.activeDate=new Date}keyDownHandler(e){const t="rtl"===this.el.dir;switch(c(e.key)){case"ArrowUp":e.preventDefault(),this.addDays(-7);break;case"ArrowRight":e.preventDefault(),this.addDays(t?-1:1);break;case"ArrowDown":e.preventDefault(),this.addDays(7);break;case"ArrowLeft":e.preventDefault(),this.addDays(t?1:-1);break;case"PageUp":e.preventDefault(),this.addMonths(-1);break;case"PageDown":e.preventDefault(),this.addMonths(1);break;case"Home":e.preventDefault(),this.activeDate.setDate(1),this.addDays();break;case"End":e.preventDefault(),this.activeDate.setDate(new Date(this.activeDate.getFullYear(),this.activeDate.getMonth()+1,0).getDate()),this.addDays();break;case"Enter":case" ":e.preventDefault(),this.calciteDateSelect.emit(this.activeDate);break;case"Tab":this.activeFocus=!1}}disableActiveFocus(){this.activeFocus=!1}render(){const e=this.activeDate.getMonth(),t=this.activeDate.getFullYear(),s=this.localeData.weekStart%7,{abbreviated:r,short:c,narrow:l}=this.localeData.days,h="s"===this.scale?l||c||r:c||r||l,d=[...h.slice(s,7),...h.slice(0,s)],u=this.getCurrentMonthDays(e,t),f=this.getPrevMonthdays(e,t,s),p=this.getNextMonthDays(e,t,s),x=[...f.map((a=>{const s=new Date(t,e-1,a);return i("calcite-date-day",{day:a,disabled:!o(s,this.min,this.max),localeData:this.localeData,onCalciteDaySelect:()=>this.calciteDateSelect.emit(s),scale:this.scale,selected:n(s,this.selectedDate)})})),...u.map((a=>{const s=new Date(t,e,a),r=n(s,this.activeDate);return i("calcite-date-day",{active:r,"current-month":!0,day:a,disabled:!o(s,this.min,this.max),localeData:this.localeData,onCalciteDaySelect:()=>this.calciteDateSelect.emit(s),ref:e=>{r&&this.activeFocus&&(null==e||e.focus())},scale:this.scale,selected:n(s,this.selectedDate)})})),...p.map((a=>{const s=new Date(t,e+1,a);return i("calcite-date-day",{day:a,disabled:!o(s,this.min,this.max),localeData:this.localeData,onCalciteDaySelect:()=>this.calciteDateSelect.emit(s),scale:this.scale,selected:n(s,this.selectedDate)})}))],b=[];for(let e=0;e<x.length;e+=7)b.push(x.slice(e,e+7));return i(a,null,i("div",{class:"calender",role:"grid"},i("div",{class:"week-headers",role:"row"},d.map((e=>i("span",{class:"week-header",role:"columnheader"},e)))),b.map((e=>i("div",{class:"week-days",role:"row"},e)))))}addMonths(e){const t=new Date(this.activeDate);t.setMonth(this.activeDate.getMonth()+e),this.calciteActiveDateChange.emit(l(t,this.min,this.max)),this.activeFocus=!0}addDays(e=0){const t=new Date(this.activeDate);t.setDate(this.activeDate.getDate()+e),this.calciteActiveDateChange.emit(l(t,this.min,this.max)),this.activeFocus=!0}getPrevMonthdays(e,t,i){const a=new Date(t,e,0),s=a.getDate(),r=[];if(a.getDay()-6===i)return r;for(let e=a.getDay();e>=i;e--)r.push(s-e);return r}getCurrentMonthDays(e,t){const i=new Date(t,e+1,0).getDate(),a=[];for(let e=0;e<i;e++)a.push(e+1);return a}getNextMonthDays(e,t,i){const a=new Date(t,e+1,0).getDay(),s=[];if(a===(i+6)%7)return s;for(let e=0;e<(6-(a-i))%7;e++)s.push(e+1);return s}get el(){return s(this)}};x.style="@keyframes calcite-fade-in{0%{opacity:0}100%{opacity:1}}@keyframes calcite-fade-in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes calcite-fade-in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes calcite-fade-in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-popper-transition:150ms ease-in-out}:host([hidden]){display:none}:host-context([theme=dark]){--calcite-ui-blue-1:#00A0FF;--calcite-ui-blue-2:#0087D7;--calcite-ui-blue-3:#47BBFF;--calcite-ui-green-1:#36DA43;--calcite-ui-green-2:#11AD1D;--calcite-ui-green-3:#44ED51;--calcite-ui-yellow-1:#FFC900;--calcite-ui-yellow-2:#F4B000;--calcite-ui-yellow-3:#FFE24D;--calcite-ui-red-1:#FE583E;--calcite-ui-red-2:#F3381B;--calcite-ui-red-3:#FF7465;--calcite-ui-background:#202020;--calcite-ui-foreground-1:#2b2b2b;--calcite-ui-foreground-2:#353535;--calcite-ui-foreground-3:#404040;--calcite-ui-text-1:#ffffff;--calcite-ui-text-2:#bfbfbf;--calcite-ui-text-3:#9f9f9f;--calcite-ui-border-1:#4a4a4a;--calcite-ui-border-2:#404040;--calcite-ui-border-3:#353535;--calcite-ui-border-4:#757575;--calcite-ui-border-5:#9f9f9f}.calender{padding-bottom:4px}.week-headers{display:flex;flex-direction:row;border-top:1px solid var(--calcite-ui-border-3);padding:0 4px}.week-header{color:var(--calcite-ui-text-3);font-weight:600;width:calc(100% / 7);text-align:center}:host([scale=s]) .week-header{font-size:12px;padding:16px 0 16px 0}:host([scale=m]) .week-header{font-size:12px;padding:24px 0 20px 0}:host([scale=l]) .week-header{font-size:14px;padding:32px 0 24px 0}.week-days{outline:none;display:flex;flex-direction:row;padding:0 3px}";const b=class{constructor(i){e(this,i),this.calciteActiveDateChange=t(this,"calciteActiveDateChange",7)}render(){var e;const t=this.activeDate.getMonth(),{months:s,unitOrder:c}=this.localeData,o=(s.wide||s.narrow||s.abbreviated)[t],n=h(this.activeDate.getFullYear(),this.localeData),p="l"===this.scale?"m":"s",x=r(this.el),b=d(c),y=b.indexOf("y")<b.indexOf("m"),g=l(u(this.activeDate),this.min,this.max),m=l(f(this.activeDate),this.min,this.max),w=null===(e=this.localeData.year)||void 0===e?void 0:e.suffix;return i(a,{dir:x},i("div",{class:"header"},i("a",{"aria-disabled":(g.getMonth()===t).toString(),"aria-label":this.intlPrevMonth,class:"chevron",href:"#",onClick:e=>this.handleArrowClick(e,m),onKeyDown:e=>this.handleKeyDown(e,m),role:"button",tabindex:"0"},i("calcite-icon",{dir:x,"flip-rtl":!0,icon:"chevron-left",scale:p})),i("div",{class:{text:!0,"text--reverse":y}},i("span",{"aria-level":"2",class:"month",role:"heading"},o),i("span",{class:"year-wrap"},i("input",{class:{year:!0,"year--suffix":!!w},inputmode:"numeric",maxlength:"4",minlength:"1",onChange:e=>this.setYear(e.target.value),onKeyDown:e=>this.onYearKey(e),pattern:"\\d*",ref:e=>this.yearInput=e,type:"text",value:n}),w&&i("span",{class:"suffix"},i("span",{"aria-hidden":"true",class:"suffix__invisible"},n)," "+w))),i("a",{"aria-disabled":(g.getMonth()===t).toString(),"aria-label":this.intlNextMonth,class:"chevron",href:"#",onClick:e=>this.handleArrowClick(e,g),onKeyDown:e=>this.handleKeyDown(e,g),role:"button",tabindex:"0"},i("calcite-icon",{dir:x,"flip-rtl":!0,icon:"chevron-right",scale:p}))))}onYearKey(e){const t=e.target.value;switch(c(e.key)){case"ArrowDown":e.preventDefault(),this.setYear(t,-1);break;case"ArrowUp":e.preventDefault(),this.setYear(t,1)}}handleArrowClick(e,t){null==e||e.preventDefault(),e.stopPropagation(),this.calciteActiveDateChange.emit(t)}handleKeyDown(e,t){const i=c(e.key);" "!==i&&"Enter"!==i||this.handleArrowClick(e,t)}setYear(e,t=0){const{min:i,max:a,activeDate:s,localeData:r,yearInput:c}=this,o=p(e,r),n=o.toString().length,d=!isNaN(o)&&o+t,u=d&&(!i||i.getFullYear()<=d)&&(!a||a.getFullYear()>=d);if(d&&u&&n===e.length){const e=new Date(s);e.setFullYear(d);const t=l(e,i,a);this.calciteActiveDateChange.emit(t),c.value=h(t.getFullYear(),r)}else c.value=h(s.getFullYear(),r)}get el(){return s(this)}};b.style="@keyframes calcite-fade-in{0%{opacity:0}100%{opacity:1}}@keyframes calcite-fade-in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes calcite-fade-in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes calcite-fade-in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-popper-transition:150ms ease-in-out}:host([hidden]){display:none}:host-context([theme=dark]){--calcite-ui-blue-1:#00A0FF;--calcite-ui-blue-2:#0087D7;--calcite-ui-blue-3:#47BBFF;--calcite-ui-green-1:#36DA43;--calcite-ui-green-2:#11AD1D;--calcite-ui-green-3:#44ED51;--calcite-ui-yellow-1:#FFC900;--calcite-ui-yellow-2:#F4B000;--calcite-ui-yellow-3:#FFE24D;--calcite-ui-red-1:#FE583E;--calcite-ui-red-2:#F3381B;--calcite-ui-red-3:#FF7465;--calcite-ui-background:#202020;--calcite-ui-foreground-1:#2b2b2b;--calcite-ui-foreground-2:#353535;--calcite-ui-foreground-3:#404040;--calcite-ui-text-1:#ffffff;--calcite-ui-text-2:#bfbfbf;--calcite-ui-text-3:#9f9f9f;--calcite-ui-border-1:#4a4a4a;--calcite-ui-border-2:#404040;--calcite-ui-border-3:#353535;--calcite-ui-border-4:#757575;--calcite-ui-border-5:#9f9f9f}.header{display:flex;justify-content:space-between;padding:0 3px}:host([scale=s]) .text{font-size:14px}:host([scale=s]) .chevron{height:38px}:host([scale=m]) .text{font-size:16px}:host([scale=m]) .chevron{height:48px}:host([scale=l]) .text{font-size:18px}:host([scale=l]) .chevron{height:64px}.chevron{color:var(--calcite-ui-text-2);flex-grow:0;width:calc(100% / 7);box-sizing:content-box;outline:none;padding:0 4px;margin:0 -3px;border:none;display:flex;align-items:center;justify-content:center;background-color:var(--calcite-ui-foreground-1);cursor:pointer;transition:all 0.15s ease-in-out;outline-offset:0;outline-color:transparent;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}.chevron:focus{outline:2px solid var(--calcite-ui-blue-1);outline-offset:-2px}.chevron:hover,.chevron:focus{fill:var(--calcite-ui-text-1);background-color:var(--calcite-ui-foreground-2)}.chevron:active{background-color:var(--calcite-ui-foreground-3)}.chevron[aria-disabled=true]{pointer-events:none;opacity:0}.text{flex:1 1 auto;display:flex;align-items:center;justify-content:center;flex-direction:row;line-height:1;margin:auto 0;text-align:center}.text--reverse{flex-direction:row-reverse}.month,.year,.suffix{color:var(--calcite-ui-text-1);background:var(--calcite-ui-foreground-1);font-size:inherit;font-weight:500;line-height:1.25;margin:0 4px;display:inline-block}.year{font-family:inherit;text-align:center;border:none;width:3em;padding:0;background-color:transparent;position:relative;z-index:2;outline-offset:0;outline-color:transparent;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}.year:hover{transition:outline-color 100ms ease-in-out;outline:2px solid var(--calcite-ui-border-2);outline-offset:2px}.year:focus{outline:2px solid var(--calcite-ui-blue-1);outline-offset:2px}.year--suffix{width:4rem;text-align:left}.year-wrap{position:relative}.suffix{position:absolute;width:4rem;white-space:nowrap;text-align:left;top:0;left:0}.suffix__invisible{visibility:hidden}";export{x as calcite_date_month,b as calcite_date_month_header}